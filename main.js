(()=>{"use strict";class e{constructor(e,t,r,s=0){this.name=e,this.length=t,this.position=r,this.hits=s,this.hasSunken=!1}hit(e){this.position.splice(this.position.indexOf(e),1),this.hits++,this.isSunk(this.hits)}isSunk(){0===this.position.length&&(this.hasSunken=!0)}}const t=class{constructor(e){this.name=e,this.ships=[],this.board=new class{constructor(){this.boardPositionArray=[],this.hasShipArray=[],this.boardCreate()}boardCreate(){for(let e=0;e<100;e++)this.boardPositionArray.push(e)}receiveAttack(e){return this.boardPositionArray.includes(e)?(this.boardPositionArray.includes(e)&&this.boardPositionArray.splice(e,1),this.checkingIfHit(e)):"out of the box"}checkingIfHit(e){return!!this.hasShipArray.includes(e)&&(this.hasShipArray.splice(this.hasShipArray.indexOf(e),1),!0)}gameEnd(){return!(0!==this.hasShipArray.length)}shipsPlacement(e){const t=e.sort(((e,t)=>e-t)),r=[9,19,29,39,49,59,69,79,89,99],s=[90,91,92,93,94,95,96,97,98,99];for(let o=0;o<t.length-1;o++){if(e[o]<0)return!1;if(!this.boardPositionArray.includes(t[o]))return!1;if(this.hasShipArray.includes(e[o]))return!1;if(this.hasShipArray.includes(e[t.length-1]))return!1;if(t[o+1]-t[o]!=1&&t[o+1]-t[o]!=10)return!1;if(r.includes(t[o])||s.includes(t[o])){if(e.every((e=>r.includes(e)||s.includes(e))))break;if(o!==t.length||0!==o)return!1}}return this.hasShipArray.push(...t),!0}}}},r=new t("player"),s=new t("computer"),o=document.querySelector(".game-start");!function(){!function(){function e(e,t=10,r=10){e.style.setProperty("--grid-rows",t),e.style.setProperty("--grid-cols",r);for(let s=0;s<t*r;s++){const t=document.createElement("div");e.appendChild(t),t.classList.add("grid-item"),t.id=s}}const t=document.querySelector(".player-1"),r=document.querySelector(".player-2");e(t),e(r)}();const t=(e,r)=>{const s=Math.floor(100*Math.random()),o=[],i=[1,10,1,10,10,1,10,1],n=i[Math.floor(Math.random()*i.length)];for(let t=0;t<e;t++)o.push(s+t*n);return r.board.shipsPlacement(o)?o:t(e,r)},i=document.querySelector(".player-1"),n=document.querySelector(".player-2");n.classList.add("turn");const a=document.querySelector(".randomPlayer"),l=document.querySelector(".buttons");a.addEventListener("click",(()=>{(()=>{r.ships=[],r.board.hasShipArray=[];const s=document.querySelectorAll(".player-1 .grid-item");s.forEach((e=>{e.style.backgroundColor="rgb(17, 24, 39)"}));let o=5;for(let s=0;s<5;s++){const i=new e(`ship${s}`,o,t(o,r));r.ships.push(i),2!==o&&o--}for(let e=0;e<5;e++)0===e&&(r.board.hasShipArray=[]),r.board.shipsPlacement(r.ships[e].position);s.forEach((e=>{r.board.hasShipArray.includes(parseInt(e.id,10))&&(e.style.backgroundColor="green")}))})(),i.style.pointerEvents="none"})),o.addEventListener("click",(()=>16===r.board.hasShipArray.length&&(l.classList.add("hide"),i.style.pointerEvents="none",(()=>{document.querySelector(".player-1").classList.add("turn");let r=5;for(let o=0;o<5;o++){const i=new e(`ship${o}`,r,t(r,s));s.ships.push(i),2!==r&&r--}for(let e=0;e<5;e++)0===e&&(s.board.hasShipArray=[]),s.board.shipsPlacement(s.ships[e].position)})(),a.disabled=!0,o.disabled=!0,n.classList.remove("turn"),0)))}(),function(){const e=e=>{if(0===e.board.hasShipArray.length){const t=document.querySelector(".reset");t.style.pointerEvents="all";const r=document.querySelector(".win-display");return r.textContent=`${e.name} lost`,r.classList.add("show"),t.classList.add("show"),document.querySelector(".game").style.pointerEvents="none",!0}return!1},t=[],o=[],i=document.querySelector(".player-1"),n=document.querySelector(".player-2");document.querySelectorAll(".player-2 .grid-item").forEach((a=>{a.addEventListener("click",(()=>{const l=parseFloat(a.id);if(!t.includes(l)){t.push(l);const c=s.board.hasShipArray;if(c.includes(l)){if(a.style.backgroundColor="red",c.splice(c.indexOf(l),1),e(s))return 0}else a.style.backgroundColor="yellow";n.classList.add("turn"),i.classList.remove("turn"),setTimeout((()=>{(()=>{const t=Math.floor(Math.random()*r.board.boardPositionArray.length),s=r.board.boardPositionArray[t];if(r.board.boardPositionArray.splice(t,1),!o.includes(s)){const t=document.getElementById(`${s}`);o.push(s);const a=r.board.hasShipArray;if(a.includes(s)){if(t.style.backgroundColor="red",a.splice(a.indexOf(s),1),e(r))return 0}else t.style.backgroundColor="yellow";i.classList.add("turn"),n.classList.remove("turn")}})()}),1e3)}return 0}))}))}(),function(){const t=document.querySelector(".manual"),s=document.querySelector(".rotate");t.addEventListener("click",(()=>{s.classList.remove("hide"),function(){const t=document.querySelectorAll(".player-1 .grid-item"),s=document.querySelector(".rotate");let i=1;s.addEventListener("click",(()=>{i=1===i?10:1}));let n=5,a=0;t.forEach((s=>{s.addEventListener("click",(()=>{const l=[];for(let e=0;e<n;e++){const t=parseInt(s.id,10)+e*i;l.push(t)}if(!r.board.shipsPlacement(l))return!1;const c=new e(`ship-${a}`,n,l);return r.ships.push(c),t.forEach((e=>{e.style.backgroundColor=" ",e.style.border="1px solid red",r.board.hasShipArray.includes(parseInt(e.id,10))&&e.classList.add("green")})),a++,5===a&&o.click(),2===n?0:(n--,!0)})),s.addEventListener("mouseover",(()=>{for(let e=1;e<n;e++){const t=document.getElementById(`${parseInt(s.id,10)+e*i}`);if("green"===t.classList[1])return!1;t.style.border="2px solid green"}s.style.border="2px solid green"})),s.addEventListener("mouseleave",(()=>{for(let e=1;e<5;e++){const t=document.getElementById(`${parseInt(s.id,10)+e*i}`);if("green"===t.classList[1])return!1;t.style.border="1px solid red"}s.style.border="1px solid red"}))}))}()}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQU0sUUFBUStGLElBQVN6QyxFQUFHTSxHQU9qRCxPQU5BLGFBQWtCVyxHQXRCdEJMLEVBQWVFLFNBQVNDLElBQ3BCQSxFQUFLM0IsTUFBTTRCLGdCQUFrQixJQUM3QkQsRUFBSzNCLE1BQU11RCxPQUFTLGdCQUNqQiw4QkFBbUN6QixTQUFTSCxFQUFLbkIsR0FBSSxNQUN4RG1CLEVBQUtyQixVQUFVQyxJQUFJLFFBQVEsSUFxQjNCOEMsSUFDYSxJQUFWQSxHQUFhNUQsRUFBVStELFFBRWpCLElBQU41QyxFQUFnQixHQUVuQkEsS0FDTyxFQUFJLElBR2ZlLEVBQUtKLGlCQUFpQixhQUFhLEtBQy9CLElBQUksSUFBSWhELEVBQUksRUFBR0EsRUFBSXFDLEVBQUdyQyxJQUFJLENBQ3RCLE1BQU1rRixFQUFXL0QsU0FBU3FELGVBQWUsR0FBR2pCLFNBQVNILEVBQUtuQixHQUFJLElBQUtqQyxFQUFFNkUsS0FDckUsR0FBNkIsVUFBMUJLLEVBQVNuRCxVQUFVLEdBQWdCLE9BQU8sRUFDN0NtRCxFQUFTekQsTUFBTXVELE9BQVMsaUJBQzVCLENBQ0E1QixFQUFLM0IsTUFBTXVELE9BQVMsaUJBQWlCLElBR3pDNUIsRUFBS0osaUJBQWlCLGNBQWMsS0FDaEMsSUFBSSxJQUFJaEQsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQUksQ0FDdEIsTUFBTWtGLEVBQVcvRCxTQUFTcUQsZUFBZSxHQUFHakIsU0FBU0gsRUFBS25CLEdBQUksSUFBS2pDLEVBQUU2RSxLQUNyRSxHQUE2QixVQUExQkssRUFBU25ELFVBQVUsR0FBZ0IsT0FBTyxFQUM3Q21ELEVBQVN6RCxNQUFNdUQsT0FBUyxlQUM1QixDQUNBNUIsRUFBSzNCLE1BQU11RCxPQUFTLGVBQWUsR0FDckMsR0FFVixDRGhFUSxFQUFpQixHQUV6QixDRkhBRyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL3NoaXAuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL2dhbWVCb2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvcGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZUNyZWF0aW9uL3NoaXBQbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lQ3JlYXRpb24vZ2FtZUJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lQ3JlYXRpb24vaGl0R2FtZUJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZUNyZWF0aW9uL2dhbWVTdGFydC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVDcmVhdGlvbi9tYW51YWxTaGlwc1BsYWNlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTaGlwc3tcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsbGVuZ3RoLHBvc2l0aW9uLCBoaXRzID0gMCl7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5oaXRzID0gaGl0cztcclxuICAgICAgICB0aGlzLmhhc1N1bmtlbiA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGhpdChwb3NpdGlvbil7Ly8gaGl0cyB0aGUgcG9zaXRpb24gYW5kIHJlbW92ZXMgdGhlIHBvc2l0aW9uIGZyb20gdGhlIGFycmF5XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi5zcGxpY2UodGhpcy5wb3NpdGlvbi5pbmRleE9mKHBvc2l0aW9uKSwxKTtcclxuICAgICAgICB0aGlzLmhpdHMrKztcclxuICAgICAgICB0aGlzLmlzU3Vuayh0aGlzLmhpdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU3Vuaygpey8vIG9uY2UgYWxsIGhpdCBpdCBzaW5rc1xyXG4gICAgICAgIGlmKHRoaXMucG9zaXRpb24ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzU3Vua2VuID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59IiwiY2xhc3MgR2FtZUJvYXJke1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmJvYXJkUG9zaXRpb25BcnJheSA9IFtdO1xyXG4gICAgICAgIHRoaXMuaGFzU2hpcEFycmF5ID0gW107XHJcbiAgICAgICAgdGhpcy5ib2FyZENyZWF0ZSgpOy8vIGluc3RhbnRseSBjcmVhdGVzIGEgYm9hcmRcclxuICAgIH1cclxuXHJcbiAgICBib2FyZENyZWF0ZSgpe1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aTwxMDA7aSsrKXtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFBvc2l0aW9uQXJyYXkucHVzaChpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVjZWl2ZUF0dGFjayhwb3Mpey8vIHJlY2VpdmVzIGF0dGFjayBhbmQgbWFya3MgaWYgaGl0IG9yIG1pc3NcclxuICAgICAgICBpZighdGhpcy5ib2FyZFBvc2l0aW9uQXJyYXkuaW5jbHVkZXMocG9zKSkgcmV0dXJuIFwib3V0IG9mIHRoZSBib3hcIjtcclxuICAgICAgICBpZih0aGlzLmJvYXJkUG9zaXRpb25BcnJheS5pbmNsdWRlcyhwb3MpKXtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFBvc2l0aW9uQXJyYXkuc3BsaWNlKHBvcywxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tpbmdJZkhpdChwb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNraW5nSWZIaXQocG9zKXtcclxuICAgICAgICBpZih0aGlzLmhhc1NoaXBBcnJheS5pbmNsdWRlcyhwb3MpKXsvLyBjaGVja2luZyBoaXQsIGlmIGhpdCByZW1vdmVzIGJsb2NrIGZyb20gc2hpcEFycmF5XHJcbiAgICAgICAgICAgIHRoaXMuaGFzU2hpcEFycmF5LnNwbGljZSh0aGlzLmhhc1NoaXBBcnJheS5pbmRleE9mKHBvcyksMSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2FtZUVuZCgpey8vIGNoZWNrIGlmIGFsbCBzaGlwcyBzdW5rXHJcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuaGFzU2hpcEFycmF5Lmxlbmd0aCA9PT0gMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hpcHNQbGFjZW1lbnQoc2hpcHNBcnIpe1xyXG4gICAgICAgIGNvbnN0IHNob3J0ZWRTaGlwc0FyciA9IHNoaXBzQXJyLnNvcnQoKGEsIGIpID0+YSAtIGIpOy8vIHNvcnRpbmdcclxuICAgICAgICAvLyBib3JkZXIgb2YgdGhlIGJvYXJkXHJcbiAgICAgICAgY29uc3QgYm9yZGVySG9yaXpvbnRhbCA9IFs5LDE5LDI5LDM5LDQ5LDU5LDY5LDc5LDg5LDk5XTtcclxuICAgICAgICBjb25zdCBib3JkZXJWZXJ0aWNhbCA9IFs5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OV07XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHNob3J0ZWRTaGlwc0Fyci5sZW5ndGgtMTtpKyspe1xyXG4gICAgICAgICAgICAvLyBwbGFjZW1lbnQgYmV5b25kIGJvYXJkXHJcbiAgICAgICAgICAgIGlmKHNoaXBzQXJyW2ldPDApIHJldHVybiBmYWxzZTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZighdGhpcy5ib2FyZFBvc2l0aW9uQXJyYXkuaW5jbHVkZXMoc2hvcnRlZFNoaXBzQXJyW2ldKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBubyBvdmVybGFwcGluZyBvZiBzaGlwc1xyXG4gICAgICAgICAgICBpZih0aGlzLmhhc1NoaXBBcnJheS5pbmNsdWRlcyhzaGlwc0FycltpXSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgaWYodGhpcy5oYXNTaGlwQXJyYXkuaW5jbHVkZXMoc2hpcHNBcnJbc2hvcnRlZFNoaXBzQXJyLmxlbmd0aC0xXSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgLy8gcGxhY2VtZW50IGluIHJhbmRvbSBvcmRlclxyXG4gICAgICAgICAgICBpZighKChzaG9ydGVkU2hpcHNBcnJbaSsxXSAtIHNob3J0ZWRTaGlwc0FycltpXSkgPT09IDEgXHJcbiAgICAgICAgICAgIHx8IChzaG9ydGVkU2hpcHNBcnJbaSsxXSAtIHNob3J0ZWRTaGlwc0FycltpXSkgPT09IDEwKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBwbGFjZW1lbnQgY3Jvc3NlcyB0aGUgdmVydGljYWwgYW5kIGhvcml6b250b2wgYm9yZGVyXHJcbiAgICAgICAgICAgIGlmKGJvcmRlckhvcml6b250YWwuaW5jbHVkZXMoc2hvcnRlZFNoaXBzQXJyW2ldKSBcclxuICAgICAgICAgICAgfHwgYm9yZGVyVmVydGljYWwuaW5jbHVkZXMoc2hvcnRlZFNoaXBzQXJyW2ldKSl7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKHNoaXBzQXJyLmV2ZXJ5KGVsZW0gPT4gYm9yZGVySG9yaXpvbnRhbC5pbmNsdWRlcyhlbGVtKSBcclxuICAgICAgICAgICAgICAgIHx8IGJvcmRlclZlcnRpY2FsLmluY2x1ZGVzKGVsZW0pKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBpZighKGkgPT09IHNob3J0ZWRTaGlwc0Fyci5sZW5ndGggJiYgaSA9PT0gMCkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhZGRzIHNoaXAgdG8gZnJlc2ggbG9jYXRpb25cclxuICAgICAgICB0aGlzLmhhc1NoaXBBcnJheS5wdXNoKC4uLnNob3J0ZWRTaGlwc0Fycik7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdhbWVCb2FyZCIsImltcG9ydCBHYW1lQm9hcmQgZnJvbSBcIi4vZ2FtZUJvYXJkXCI7XHJcblxyXG5jbGFzcyBQbGF5ZXJ7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKXtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuc2hpcHMgPSBbXTtcclxuICAgICAgICB0aGlzLmJvYXJkID0gbmV3IEdhbWVCb2FyZDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGxheWVyIiwiLyogZXNsaW50LWRpc2FibGUgbm8tY29udGludWUgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cclxuaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vbW9kdWxlcy9wbGF5ZXJcIlxyXG5pbXBvcnQgU2hpcHMgZnJvbSBcIi4uL21vZHVsZXMvc2hpcFwiXHJcbmltcG9ydCBnYW1lQm9hcmQgZnJvbSBcIi4vZ2FtZUJvYXJkXCI7XHJcblxyXG4vLyB0d28gbmV3IHBsYXllcnMgY3JlYXRlZFxyXG5jb25zdCBwbGF5ZXIgPSBuZXcgUGxheWVyKFwicGxheWVyXCIpO1xyXG5jb25zdCBjb21wdXRlciA9IG5ldyBQbGF5ZXIoXCJjb21wdXRlclwiKTtcclxuY29uc3Qgc3RhcnRHYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lLXN0YXJ0XCIpO1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaGlwcygpe1xyXG4gICAgZ2FtZUJvYXJkKCk7Ly8gYm94IGFyZWEgZm9yIGJvdGggcGxheWVyc1xyXG5cclxuICAgIGNvbnN0IGdldFJhbmRvbUxlZ2FsUG9zaXRpb24gPSAoaiwgcGVyc29uKT0+e1xyXG4gICAgICAgIC8vIHdoZW4gcmFuZG9taXNlZCB0aGUgc2hpcHMgd2lsbCBnZXQgcGxhY2VkIGVpdGhlciB2ZXJ0aWNhbCBvciBob3Jpem9udG9sXHJcbiAgICAgICAgY29uc3QgcmFuZG9tTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGFkZGluZ0FycmF5ID0gWzEsMTAsMSwxMCwxMCwxLDEwLDFdO1xyXG4gICAgICAgIGNvbnN0IGFkZGluZ0RpZ2l0ID0gYWRkaW5nQXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmFkZGluZ0FycmF5Lmxlbmd0aCldO1xyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCBqO2krKyl7XHJcbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2gocmFuZG9tTnVtYmVyKyhpICogYWRkaW5nRGlnaXQpKTsvLyBhIHJhbmRvbSBudW1iZXIgYW5kIG1ha2UgYSBzZXJpYWxpc2VkIGFycmF5IG9mIGl0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHBlcnNvbi5ib2FyZC5zaGlwc1BsYWNlbWVudChuZXdBcnJheSkpIHJldHVybiBuZXdBcnJheTsvLyBpZiBwbGFjZW1lbnQgaXQgY29ycmVjdCByZXR1cm5zXHJcbiAgICAgICAgcmV0dXJuIGdldFJhbmRvbUxlZ2FsUG9zaXRpb24oaiwgcGVyc29uKTsvLyBpZiBub3QgcmVjdXJzaXZlIGZ1bmN0aW9uXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGxheWVyU2hpcHMgPSAoKT0+ey8vIGNyZWF0ZXMgc2hpcHMgZm9yIHBsYXllciBhdCByYW5kb20gcGxhY2VzXHJcbiAgICAgICAgcGxheWVyLnNoaXBzID0gW107XHJcbiAgICAgICAgcGxheWVyLmJvYXJkLmhhc1NoaXBBcnJheSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGdyaWRJdGVtUGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wbGF5ZXItMSAuZ3JpZC1pdGVtXCIpO1xyXG4gICAgICAgIGdyaWRJdGVtUGxheWVyLmZvckVhY2goKGdyaWQpPT57XHJcbiAgICAgICAgICAgIGdyaWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoMTcsIDI0LCAzOSlcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxldCBqID0gNTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCA1O2krKyl7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllclNoaXAgPSBuZXcgU2hpcHMoYHNoaXAke2l9YCxqLCBnZXRSYW5kb21MZWdhbFBvc2l0aW9uKGosIHBsYXllcikpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2hpcHMucHVzaChwbGF5ZXJTaGlwKTtcclxuICAgICAgICAgICAgLy8gbm8gc2hpcHMgbGVzcyB0aGFuIDIgaW4gc2l6ZVxyXG4gICAgICAgICAgICBpZihqID09PSAyKSBjb250aW51ZTtcclxuICAgICAgICAgICAgai0tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0wOyBpPDU7aSsrKXtcclxuICAgICAgICAgICAgaWYoaT09PTApIHBsYXllci5ib2FyZC5oYXNTaGlwQXJyYXkgPSBbXTsvLyBjbGVhcmluZyB0aGUgc2hpcCBhcnJheVxyXG4gICAgICAgICAgICBwbGF5ZXIuYm9hcmQuc2hpcHNQbGFjZW1lbnQocGxheWVyLnNoaXBzW2ldLnBvc2l0aW9uKTsvLyBmaWxsaW5nIGl0IHdpdGggcHJvcGVyIHBsYWNlbWVudHNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdyaWRJdGVtUGxheWVyLmZvckVhY2goKGdyaWQpPT57Ly8gc2hvd2luZyB0aGUgcGxheWVyJ3Mgc2hpcCBsb2NhdGlvblxyXG4gICAgICAgIGlmKHBsYXllci5ib2FyZC5oYXNTaGlwQXJyYXkuaW5jbHVkZXMocGFyc2VJbnQoZ3JpZC5pZCwgMTApKSl7XHJcbiAgICAgICAgICAgIGdyaWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbXB1dGVyU2hpcHMgPSAoKT0+e1xyXG4gICAgICAgIGNvbnN0IHBsYXllck9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLTFcIik7XHJcbiAgICAgICAgcGxheWVyT25lLmNsYXNzTGlzdC5hZGQoXCJ0dXJuXCIpOyAvLyBkaXNiYWxpbmcgRE9NIGZvciBvcHBvc2l0ZSBwbGF5ZXJcclxuICAgICAgICBsZXQgaiA9IDU7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgNTtpKyspe1xyXG4gICAgICAgICAgICBjb25zdCBjb21wU2hpcCA9IG5ldyBTaGlwcyhgc2hpcCR7aX1gLGosIGdldFJhbmRvbUxlZ2FsUG9zaXRpb24oaiwgY29tcHV0ZXIpKVxyXG4gICAgICAgICAgICBjb21wdXRlci5zaGlwcy5wdXNoKGNvbXBTaGlwKTtcclxuICAgICAgICAgICAgaWYoaiA9PT0gMikgY29udGludWU7XHJcbiAgICAgICAgICAgIGotLTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcihsZXQgaSA9MCA7IGk8NTtpKyspe1xyXG4gICAgICAgICAgICBpZihpPT09MCkgY29tcHV0ZXIuYm9hcmQuaGFzU2hpcEFycmF5ID0gW107XHJcbiAgICAgICAgICAgIGNvbXB1dGVyLmJvYXJkLnNoaXBzUGxhY2VtZW50KGNvbXB1dGVyLnNoaXBzW2ldLnBvc2l0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGxheWVyT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItMVwiKTtcclxuICAgIGNvbnN0IHBsYXllclR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLTJcIik7XHJcbiAgICBwbGF5ZXJUd28uY2xhc3NMaXN0LmFkZChcInR1cm5cIik7XHJcbiAgICAvLyBjcmVhdGluZyBzaGlwcyByYW5kb21seSBmb3IgdXNlclxyXG4gICAgY29uc3QgcmFuZG9taXNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYW5kb21QbGF5ZXJcIik7XHJcbiAgICBjb25zdCBidXR0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uc1wiKTtcclxuICAgIHJhbmRvbWlzZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICBwbGF5ZXJTaGlwcygpO1xyXG4gICAgICAgIHBsYXllck9uZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XHJcbiAgICB9KVxyXG4gICAgLy8gc3RhcnRpbmcgdGhlIGdhbWUgYWZ0ZXIgcGxhY2VtZW50c1xyXG4gICAgc3RhcnRHYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgIGlmKHBsYXllci5ib2FyZC5oYXNTaGlwQXJyYXkubGVuZ3RoICE9PSAxNikgcmV0dXJuIGZhbHNlOy8vIGNhbjt0IHN0YXJ0IGdhbWUgd2l0aG91dCBwbGFjZW1lbnQgb2YgYWxsIHNoaXBzXHJcbiAgICAgICAgYnV0dHRvbnMuY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XHJcbiAgICAgICAgcGxheWVyT25lLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcclxuICAgICAgICBjb21wdXRlclNoaXBzKCk7XHJcbiAgICAgICAgLy8gZGlzYmFsaW5nIERPTSBidXR0b25zXHJcbiAgICAgICAgcmFuZG9taXNlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICBzdGFydEdhbWUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIHBsYXllck9uZSBjYW4gYXR0YWNrXHJcbiAgICAgICAgcGxheWVyVHdvLmNsYXNzTGlzdC5yZW1vdmUoXCJ0dXJuXCIpO1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfSlcclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQge3BsYXllciwgY29tcHV0ZXIsIHN0YXJ0R2FtZX0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnYW1lQm9hcmQoKXtcclxuICAgIGZ1bmN0aW9uIG1ha2VSb3dzKGRpdixyb3dzID0gMTAsIGNvbHM9MTApIHtcclxuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoXCItLWdyaWQtcm93c1wiLCByb3dzKTtcclxuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoXCItLWdyaWQtY29sc1wiLCBjb2xzKTtcclxuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IChyb3dzICogY29scyk7IGMrKykge1xyXG4gICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcbiAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJncmlkLWl0ZW1cIik7XHJcbiAgICAgICAgICBjZWxsLmlkID0gYztcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgY29uc3QgcGxheWVyT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItMVwiKTtcclxuICAgIGNvbnN0IHBsYXllclR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLTJcIik7XHJcbiAgICAvLyBjcmVhdGVzIDEweDEwIGJveCBmb3IgYm90aCBwbGF5ZXJzXHJcbiAgICBtYWtlUm93cyhwbGF5ZXJPbmUpO1xyXG4gICAgbWFrZVJvd3MocGxheWVyVHdvKTtcclxufSIsImltcG9ydCBnYW1lU3RhcnQgZnJvbSBcIi4vZ2FtZUNyZWF0aW9uL2dhbWVTdGFydFwiO1xyXG5pbXBvcnQgaGl0Qm9hcmQgZnJvbSBcIi4vZ2FtZUNyZWF0aW9uL2hpdEdhbWVCb2FyZFwiO1xyXG5pbXBvcnQgc2hpcHMgIGZyb20gXCIuL2dhbWVDcmVhdGlvbi9zaGlwUGxhY2VtZW50XCI7XHJcblxyXG5zaGlwcygpO1xyXG5oaXRCb2FyZCgpO1xyXG5nYW1lU3RhcnQoKTsiLCIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tY3ljbGUgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cclxuaW1wb3J0IHsgY29tcHV0ZXIsIHBsYXllciB9IGZyb20gXCIuL3NoaXBQbGFjZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhpdEJvYXJkKCl7XHJcblxyXG4gICAgY29uc3QgY2hlY2tHYW1lRW5kID0gKHBlcnNvbik9PntcclxuICAgICAgICBpZihwZXJzb24uYm9hcmQuaGFzU2hpcEFycmF5Lmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXNldFwiKTtcclxuICAgICAgICAgICAgcmVzZXRCdXR0b24uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYWxsXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpbkRpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbi1kaXNwbGF5XCIpO1xyXG4gICAgICAgICAgICB3aW5EaXNwbGF5LnRleHRDb250ZW50ID0gYCR7cGVyc29uLm5hbWV9IGxvc3RgO1xyXG4gICAgICAgICAgICB3aW5EaXNwbGF5LmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpXHJcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lXCIpO1xyXG4gICAgICAgICAgICBtYWluLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjsgLy8gYWZ0ZXIgZ2FtZSBlbmRzIERPTSBhbGxvd2VkXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFycmF5IGZvciByZWNvcmRpbmcgc2hvdHNcclxuICAgIGNvbnN0IHNob3RzQXJyYXkgPSBbXTtcclxuICAgIGNvbnN0IHNob3RzQXJyYXlDb21wID0gW107XHJcbiAgICBjb25zdCBwbGF5ZXJPbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllci0xXCIpO1xyXG4gICAgY29uc3QgcGxheWVyVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItMlwiKTtcclxuICBcclxuICAgIFxyXG5cclxuICAgIGNvbnN0IGNvbXB1dGVyUGxheSA9ICgpPT57Ly8gcmFuZG9tIGNvbXB1dGVyIHBsYXlzXHJcbiAgICAgICAgY29uc3QgcmFuZG9tTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnBsYXllci5ib2FyZC5ib2FyZFBvc2l0aW9uQXJyYXkubGVuZ3RoKVxyXG4gICAgICAgIGNvbnN0IHBvcyA9IHBsYXllci5ib2FyZC5ib2FyZFBvc2l0aW9uQXJyYXlbcmFuZG9tTnVtYmVyXTtcclxuICAgICAgICAvLyByZW1vdmVzIHRoZSBwb3NpdGlvbiBmcm9tIHBsYXllcnMgYm9hcmQgYWZ0ZXIgc2hvdHNcclxuICAgICAgICBwbGF5ZXIuYm9hcmQuYm9hcmRQb3NpdGlvbkFycmF5LnNwbGljZShyYW5kb21OdW1iZXIsIDEpO1xyXG4gICAgICAgICAgICBpZighKHNob3RzQXJyYXlDb21wLmluY2x1ZGVzKHBvcykpKXsvLyBubyBoaXR0aW5nIHNhbWUgcG9zaXRpb24gdHdpY2VcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwb3N9YCk7XHJcbiAgICAgICAgICAgICAgICBzaG90c0FycmF5Q29tcC5wdXNoKHBvcyk7Ly8gcHVzaGluZyBoaXQgcG9zaXRpb24gdG8gYXJyYXlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNoaXBBcnJheSA9IHBsYXllci5ib2FyZC5oYXNTaGlwQXJyYXk7XHJcbiAgICAgICAgICAgICAgICBpZihzaGlwQXJyYXkuaW5jbHVkZXMocG9zKSl7Ly8gaWYgc2hpcCBnZXRzIGhpdCBkaXYgY29sb3IgY2hhbmdlcyB0byByZWRcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hpcEFycmF5LnNwbGljZShzaGlwQXJyYXkuaW5kZXhPZihwb3MpLDEpOyAvLyByZW1vdmVzIHBvc2l0aW9uIGZyb20gc2hpcEFycmF5XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2hlY2tHYW1lRW5kKHBsYXllcikpIHJldHVybiAwOy8vIGlmIGdhbWUgZW5kcyBubyBzd2l0Y2hpbmcgdHVybnNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7Ly8gaWYgbm90IGhpdCBkaXYgY2huYWdlcyB0byB5ZWxsb3dcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwieWVsbG93XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2VzIHR1cm4gdG8gb3RoZXIgcGxheWVyXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJPbmUuY2xhc3NMaXN0LmFkZChcInR1cm5cIik7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJUd28uY2xhc3NMaXN0LnJlbW92ZShcInR1cm5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ3JpZEl0ZW1Db21wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wbGF5ZXItMiAuZ3JpZC1pdGVtXCIpO1xyXG4gICAgZ3JpZEl0ZW1Db21wLmZvckVhY2goKGl0ZW0pPT57XHJcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VGbG9hdChpdGVtLmlkKTtcclxuICAgICAgICAgICAgaWYoIShzaG90c0FycmF5LmluY2x1ZGVzKHBvcykpKXsvLyBjYW4ndCBoaXQgc2FtZSBwb3NpdGlvbiB0d2ljZVxyXG4gICAgICAgICAgICAgICAgc2hvdHNBcnJheS5wdXNoKHBvcyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaGlwQXJyYXkgPSBjb21wdXRlci5ib2FyZC5oYXNTaGlwQXJyYXk7XHJcbiAgICAgICAgICAgICAgICBpZihzaGlwQXJyYXkuaW5jbHVkZXMocG9zKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiOy8vIGhpdCBzaWduYWxsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgc2hpcEFycmF5LnNwbGljZShzaGlwQXJyYXkuaW5kZXhPZihwb3MpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNoZWNrR2FtZUVuZChjb21wdXRlcikpIHJldHVybiAwOy8vIGlmIGdhbWUgZW5kcyBubyBzd2l0Y2hpbmcgdHVybnNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInllbGxvd1wiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdHVybiBzd2l0Y2hpbmdcclxuICAgICAgICAgICAgICAgIHBsYXllclR3by5jbGFzc0xpc3QuYWRkKFwidHVyblwiKTtcclxuICAgICAgICAgICAgICAgIHBsYXllck9uZS5jbGFzc0xpc3QucmVtb3ZlKFwidHVyblwiKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbXB1dGVyIGF0dGFja3MgYWZ0ZXIgMSBzZWNcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyUGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn0iLCJpbXBvcnQgbWFudWFsUGxhY2VtZW50IGZyb20gXCIuL21hbnVhbFNoaXBzUGxhY2VtZW50XCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdhbWVTdGFydCgpe1xyXG4gICAgY29uc3QgbWFudWFsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYW51YWxcIik7XHJcbiAgICBjb25zdCByb3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJvdGF0ZVwiKTtcclxuICAgIG1hbnVhbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICByb3RhdGUuY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XHJcbiAgICAgICAgbWFudWFsUGxhY2VtZW50KCk7XHJcbiAgICB9KVxyXG59IiwiLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cclxuaW1wb3J0IFNoaXBzIGZyb20gXCIuLi9tb2R1bGVzL3NoaXBcIjtcclxuaW1wb3J0IHsgcGxheWVyLCBzdGFydEdhbWUgfSBmcm9tIFwiLi9zaGlwUGxhY2VtZW50XCI7XHJcblxyXG5mdW5jdGlvbiBtYW51YWxQbGFjZW1lbnQoKXtcclxuICAgIGNvbnN0IGdyaWRJdGVtUGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wbGF5ZXItMSAuZ3JpZC1pdGVtXCIpO1xyXG4gICAgY29uc3Qgcm90YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yb3RhdGVcIik7XHJcbiAgICAvLyBmb3IgY2hhbmdlaW5nIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHNoaXBzXHJcbiAgICBsZXQgZGlyZWN0aW9uID0gMTtcclxuICAgIHJvdGF0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICBpZihkaXJlY3Rpb24gPT09IDEpe1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAxMDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gMTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIGRpc3BsYXlzIHRoZSBwbGF5ZXJPbmUgc2hpcHMgbG9jYXRpb25cclxuICAgIGNvbnN0IHNoaXBzRGlzcGxheSA9ICgpPT57XHJcbiAgICAgICAgZ3JpZEl0ZW1QbGF5ZXIuZm9yRWFjaCgoZ3JpZCk9PntcclxuICAgICAgICAgICAgZ3JpZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiBcIjtcclxuICAgICAgICAgICAgZ3JpZC5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCByZWRcIlxyXG4gICAgICAgICAgICBpZihwbGF5ZXIuYm9hcmQuaGFzU2hpcEFycmF5LmluY2x1ZGVzKHBhcnNlSW50KGdyaWQuaWQsIDEwKSkpXHJcbiAgICAgICAgICAgIGdyaWQuY2xhc3NMaXN0LmFkZChcImdyZWVuXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGogPSA1O1xyXG4gICAgbGV0IGNvdW50ID0wO1xyXG4gICAgZ3JpZEl0ZW1QbGF5ZXIuZm9yRWFjaCgoZ3JpZCk9PntcclxuICAgICAgICBncmlkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgICAgICAvLyB0YWtlcyBhcnJheSBhY2NyIHRvIHVzZXJzIHJlcXVlc3RcclxuICAgICAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgajtpKyspe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QXJyYXlFbGVtZW50ID0gcGFyc2VJbnQoZ3JpZC5pZCwgMTApKyhpKmRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBuZXdBcnJheS5wdXNoKG5ld0FycmF5RWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgbm90IHZhbGlkIGNhbid0IHBsYWNlXHJcbiAgICAgICAgICAgIGlmKCEocGxheWVyLmJvYXJkLnNoaXBzUGxhY2VtZW50KG5ld0FycmF5KSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgLy8gd2hlbiB2YWxpZCBhZGRzIHRoZSBzaGlwIGFuZCBwdXNoZXMgaXQgaW5cclxuICAgICAgICAgICAgY29uc3QgcGxheWVyU2hpcCA9IG5ldyBTaGlwcyhgc2hpcC0ke2NvdW50fWAsIGosIG5ld0FycmF5KVxyXG4gICAgICAgICAgICBwbGF5ZXIuc2hpcHMucHVzaChwbGF5ZXJTaGlwKTtcclxuICAgICAgICAgICAgc2hpcHNEaXNwbGF5KCk7Ly8gZGlzcGxheXNcclxuICAgICAgICAgICAgLy8gd2hlbiBzaGlwcyBjb3VudCByZWFjaCA1IHN0YXJ0cyBnYW1lIGF1dG9tYXRpY2FsbHlcclxuICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgaWYoY291bnQgPT09IDUpIHN0YXJ0R2FtZS5jbGljaygpO1xyXG4gICAgICAgICAgICAvLyBubyBzaGlwcyBsZXNzIHRoYW4gMiBpbiBzaXplXHJcbiAgICAgICAgICAgIGlmKGogPT09IDIpIHJldHVybiAwO1xyXG4gICAgICAgICAgICAvLyBkZWNyZWFzZXMgdGhlIHNoaXBzIGRpc3BsYXkgdG8gdXNlciBhZnRlciBlYWNoIGNsaWNrXHJcbiAgICAgICAgICAgIGotLTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gZm9yIGRpc3BsYXlpbmcgdGhlIHJhbmdlIG9mIHNoaXBzIHRoYXQgY2FuIGJlIHBsYWNlZCB0byB0aGUgdXNlciBcclxuICAgICAgICBncmlkLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCk9PntcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMTsgaSA8IGo7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkTGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3BhcnNlSW50KGdyaWQuaWQsIDEwKSsoaSpkaXJlY3Rpb24pfWApO1xyXG4gICAgICAgICAgICAgICAgaWYoZ3JpZExpbmUuY2xhc3NMaXN0WzFdID09PSBcImdyZWVuXCIpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdyaWRMaW5lLnN0eWxlLmJvcmRlciA9IFwiMnB4IHNvbGlkIGdyZWVuXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ3JpZC5zdHlsZS5ib3JkZXIgPSBcIjJweCBzb2xpZCBncmVlblwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHJlbW92ZXMgdGhlIGRpc3BsYXkgd2hlbiB1c2VyJ3MgbW91c2UgbW92ZXMgYXdheSBmcm9tIHRoZSBkaXZcclxuICAgICAgICBncmlkLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpPT57XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDE7IGkgPCA1OyBpKyspe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JpZExpbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwYXJzZUludChncmlkLmlkLCAxMCkrKGkqZGlyZWN0aW9uKX1gKTtcclxuICAgICAgICAgICAgICAgIGlmKGdyaWRMaW5lLmNsYXNzTGlzdFsxXSA9PT0gXCJncmVlblwiKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBncmlkTGluZS5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCByZWRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBncmlkLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIHJlZFwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1hbnVhbFBsYWNlbWVudDsiXSwibmFtZXMiOlsiU2hpcHMiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJsZW5ndGgiLCJwb3NpdGlvbiIsImhpdHMiLCJ0aGlzIiwiaGFzU3Vua2VuIiwiaGl0Iiwic3BsaWNlIiwiaW5kZXhPZiIsImlzU3VuayIsInNoaXBzIiwiYm9hcmQiLCJib2FyZFBvc2l0aW9uQXJyYXkiLCJoYXNTaGlwQXJyYXkiLCJib2FyZENyZWF0ZSIsImkiLCJwdXNoIiwicmVjZWl2ZUF0dGFjayIsInBvcyIsImluY2x1ZGVzIiwiY2hlY2tpbmdJZkhpdCIsImdhbWVFbmQiLCJzaGlwc1BsYWNlbWVudCIsInNoaXBzQXJyIiwic2hvcnRlZFNoaXBzQXJyIiwic29ydCIsImEiLCJiIiwiYm9yZGVySG9yaXpvbnRhbCIsImJvcmRlclZlcnRpY2FsIiwiZXZlcnkiLCJlbGVtIiwiY29tcHV0ZXIiLCJzdGFydEdhbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtYWtlUm93cyIsImRpdiIsInJvd3MiLCJjb2xzIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImMiLCJjZWxsIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY2xhc3NMaXN0IiwiYWRkIiwiaWQiLCJwbGF5ZXJPbmUiLCJwbGF5ZXJUd28iLCJnZXRSYW5kb21MZWdhbFBvc2l0aW9uIiwiaiIsInBlcnNvbiIsInJhbmRvbU51bWJlciIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm5ld0FycmF5IiwiYWRkaW5nQXJyYXkiLCJhZGRpbmdEaWdpdCIsInJhbmRvbWlzZSIsImJ1dHR0b25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdyaWRJdGVtUGxheWVyIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJncmlkIiwiYmFja2dyb3VuZENvbG9yIiwicGxheWVyU2hpcCIsInBhcnNlSW50IiwicGxheWVyU2hpcHMiLCJwb2ludGVyRXZlbnRzIiwiY29tcFNoaXAiLCJjb21wdXRlclNoaXBzIiwiZGlzYWJsZWQiLCJyZW1vdmUiLCJjaGVja0dhbWVFbmQiLCJyZXNldEJ1dHRvbiIsIndpbkRpc3BsYXkiLCJ0ZXh0Q29udGVudCIsInNob3RzQXJyYXkiLCJzaG90c0FycmF5Q29tcCIsIml0ZW0iLCJwYXJzZUZsb2F0Iiwic2hpcEFycmF5Iiwic2V0VGltZW91dCIsImdldEVsZW1lbnRCeUlkIiwiY29tcHV0ZXJQbGF5IiwiaGl0Qm9hcmQiLCJtYW51YWxCdXR0b24iLCJyb3RhdGUiLCJkaXJlY3Rpb24iLCJjb3VudCIsIm5ld0FycmF5RWxlbWVudCIsImJvcmRlciIsImNsaWNrIiwiZ3JpZExpbmUiLCJnYW1lU3RhcnQiXSwic291cmNlUm9vdCI6IiJ9